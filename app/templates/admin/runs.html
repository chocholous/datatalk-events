{% extends "base.html" %}
{% block title %}Scrape Runs{% endblock %}
{% block content %}
<h1>Scrape Runs</h1>
<div class="card">
    <table>
        <thead>
            <tr><th>ID</th><th>Started</th><th>Finished</th><th>Status</th><th>Events Found</th><th>Events New</th><th>Error</th></tr>
        </thead>
        <tbody>
        {% for run in runs %}
        <tr>
            <td>{{ run.id }}</td>
            <td>{{ run.started_at.strftime('%Y-%m-%d %H:%M') }}</td>
            <td>{{ run.finished_at.strftime('%Y-%m-%d %H:%M') if run.finished_at else '-' }}</td>
            <td><span class="badge badge-{{ run.status.value }}">{{ run.status.value }}</span></td>
            <td>{{ run.events_found }}</td>
            <td>{{ run.events_new }}</td>
            <td>{{ run.error_message or '-' }}</td>
        </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
